import{s as i}from"./index-DKzGAutY.js";class a{constructor(){this.listeners=[]}addEventListener(e,s){this.listeners.push({event:e,callback:s})}removeEventListener(e,s){this.listeners=this.listeners.filter(t=>t.event!==e||t.callback!==s)}async publish(e,s,t="Operator"){const n=new CustomEvent("feed-message",{detail:{message:e,type:s,user:t,local:!0}});if(this.listeners.forEach(r=>{r.event==="feed-message"&&r.callback(n)}),i)try{await i.from("feed_events").insert({player_name:t,message:e,type:s})}catch(r){console.error("Feed Publish Error",r)}}}const l=new a;export{l as feedService};
