import{r as f,b as We,c as Ye,t as Xe,j as s,L as ke,S as j}from"./index-DKzGAutY.js";import{feedService as xe}from"./feed-Brgwye14.js";const A=[{name:"Surface",maxDepth:300,color:["#87CEEB","#006994"],particle:"ü´ß",effect:"STAR"},{name:"Seagrass",maxDepth:600,color:["#006994","#2E8B57"],particle:"üåø",effect:"BUBBLE_COLUMN"},{name:"Coral",maxDepth:900,color:["#2E8B57","#008080"],particle:"ü™∏",effect:"VOLCANO"},{name:"Twilight",maxDepth:1200,color:["#4B0082","#191970"],particle:"‚ú®",effect:"AURORA"},{name:"Midnight",maxDepth:1500,color:["#191970","#000033"],particle:"üëÅÔ∏è",effect:"EYES"},{name:"The Trench",maxDepth:1800,color:["#000033","#000000"],particle:"üå´Ô∏è",effect:"FOG"},{name:"Neon City",maxDepth:2100,color:["#000000","#2a003b"],particle:"üëæ",effect:"MATRIX"},{name:"Boneyard",maxDepth:2400,color:["#3b2a00","#1a1100"],particle:"ü¶¥",effect:"BONES"},{name:"Magma Core",maxDepth:2700,color:["#330000","#550000"],particle:"üî•",effect:"EMBER"},{name:"Frozen Deep",maxDepth:3e3,color:["#003333","#005555"],particle:"‚ùÑÔ∏è",effect:"SNOW"},{name:"The Ether",maxDepth:3500,color:["#2a003b","#4B0082"],particle:"üîÆ",effect:"SPIRIT"},{name:"The Void",maxDepth:4e3,color:["#000000","#111111"],particle:"‚ö´",effect:"GLITCH"}],ee=[{id:"boot",name:"Old Boot",score:1,emoji:"üë¢",minDepth:0,maxDepth:300,pattern:"FLOAT",speed:1,weight:[.5,2]},{id:"can",name:"Soda Can",score:1,emoji:"ü•§",minDepth:0,maxDepth:300,pattern:"FLOAT",speed:1,weight:[.1,.5]},{id:"goldy",name:"Goldy",score:5,emoji:"üêü",minDepth:0,maxDepth:300,pattern:"FLOAT",speed:1.5,weight:[.1,1.5]},{id:"shrimp",name:"Lil Shrimp",score:3,emoji:"ü¶ê",minDepth:50,maxDepth:300,pattern:"DART",speed:2.5,weight:[.05,.2]},{id:"ducky",name:"Lost Duck",score:10,emoji:"üê§",minDepth:0,maxDepth:100,pattern:"FLOAT",speed:.5,weight:[.5,1]},{id:"sushi",name:"Runaway Sushi",score:15,emoji:"üç£",minDepth:100,maxDepth:350,pattern:"DART",speed:3,weight:[.1,.3]},{id:"bottle",name:"Message",score:5,emoji:"üçæ",minDepth:0,maxDepth:300,pattern:"FLOAT",speed:.5,weight:[1,2]},{id:"wood",name:"Driftwood",score:2,emoji:"ü™µ",minDepth:0,maxDepth:300,pattern:"FLOAT",speed:.8,weight:[2,10]},{id:"crab",name:"Crabby",score:8,emoji:"ü¶Ä",minDepth:300,maxDepth:600,pattern:"DART",speed:2,weight:[.5,3]},{id:"turtle",name:"Mr. Turtle",score:25,emoji:"üê¢",minDepth:300,maxDepth:600,pattern:"FLOAT",speed:.8,weight:[10,50]},{id:"seahorse",name:"Seahorse",score:12,emoji:"üêâ",minDepth:350,maxDepth:600,pattern:"SINE",speed:1.5,weight:[.1,.5]},{id:"snake",name:"Sea Snake",score:18,emoji:"üêç",minDepth:400,maxDepth:600,pattern:"SINE",speed:3,weight:[1,5]},{id:"eel",name:"Zappy Eel",score:20,emoji:"‚ö°",minDepth:550,maxDepth:700,pattern:"GLITCH",speed:4,weight:[2,8]},{id:"snail",name:"Gary",score:6,emoji:"üêå",minDepth:300,maxDepth:600,pattern:"FLOAT",speed:.2,weight:[.1,.5]},{id:"cuke",name:"Sea Cucumber",score:10,emoji:"ü•í",minDepth:500,maxDepth:600,pattern:"FLOAT",speed:.1,weight:[.5,1]},{id:"guppy",name:"Neon Guppy",score:10,emoji:"üê†",minDepth:600,maxDepth:900,pattern:"DART",speed:2.5,weight:[.1,.5]},{id:"clown",name:"Nemo",score:15,emoji:"üü†",minDepth:600,maxDepth:900,pattern:"DART",speed:2,weight:[.2,.8]},{id:"squid",name:"Squiddy",score:20,emoji:"ü¶ë",minDepth:650,maxDepth:900,pattern:"DART",speed:3,weight:[2,15]},{id:"lobster",name:"Rock Lobster",score:25,emoji:"ü¶û",minDepth:700,maxDepth:900,pattern:"FLOAT",speed:2,weight:[1,5]},{id:"puffer",name:"Puff Daddy",score:30,emoji:"üê°",minDepth:600,maxDepth:900,pattern:"FLOAT",speed:1,weight:[1,4]},{id:"star",name:"Pat-Rock",score:10,emoji:"‚≠ê",minDepth:600,maxDepth:900,pattern:"FLOAT",speed:.5,weight:[.5,2]},{id:"box",name:"Boxfish",score:35,emoji:"üì¶",minDepth:700,maxDepth:900,pattern:"FLOAT",speed:1,weight:[1,2]},{id:"conch",name:"Magic Conch",score:40,emoji:"üêö",minDepth:800,maxDepth:900,pattern:"FLOAT",speed:0,weight:[2,5]},{id:"jelly",name:"Jelly",score:30,emoji:"üéê",minDepth:900,maxDepth:1200,pattern:"FLOAT",speed:.5,weight:[1,5]},{id:"stingray",name:"Flappy Ray",score:40,emoji:"üõ∏",minDepth:950,maxDepth:1200,pattern:"SINE",speed:1.5,weight:[10,40]},{id:"angler",name:"Lantern Fish",score:45,emoji:"üèÆ",minDepth:1e3,maxDepth:1200,pattern:"DART",speed:3,weight:[5,15]},{id:"sword",name:"Swordy",score:50,emoji:"üó°Ô∏è",minDepth:1e3,maxDepth:1200,pattern:"DART",speed:5,weight:[50,200]},{id:"micro",name:"Microbe",score:5,emoji:"ü¶†",minDepth:1100,maxDepth:1200,pattern:"FLOAT",speed:.5,weight:[.01,.05]},{id:"flash",name:"Flashlight",score:55,emoji:"üî¶",minDepth:1e3,maxDepth:1200,pattern:"DART",speed:4,weight:[.5,1]},{id:"vamp",name:"Vampire Squid",score:60,emoji:"ü¶ë",minDepth:1100,maxDepth:1200,pattern:"GLITCH",speed:3,weight:[5,10]},{id:"shark",name:"Sharky",score:50,emoji:"ü¶à",minDepth:1200,maxDepth:1500,pattern:"SINE",speed:2,weight:[50,300]},{id:"whale",name:"Whaley",score:80,emoji:"üê≥",minDepth:1200,maxDepth:1500,pattern:"FLOAT",speed:1,weight:[1e3,5e3]},{id:"moon",name:"Moon Rock",score:100,emoji:"üåë",minDepth:1300,maxDepth:1500,pattern:"FLOAT",speed:.2,weight:[100,200]},{id:"wolf",name:"Wolf Fish",score:70,emoji:"üêü",minDepth:1200,maxDepth:1500,pattern:"DART",speed:3,weight:[10,20]},{id:"sleep",name:"Sleeper Shark",score:75,emoji:"üí§",minDepth:1400,maxDepth:1500,pattern:"FLOAT",speed:.5,weight:[200,400]},{id:"blob",name:"Blobfish",score:70,emoji:"üóø",minDepth:1500,maxDepth:1800,pattern:"FLOAT",speed:.5,weight:[5,20]},{id:"worm",name:"Tube Worm",score:60,emoji:"üêõ",minDepth:1550,maxDepth:1800,pattern:"FLOAT",speed:0,weight:[1,2]},{id:"viper",name:"Viperfish",score:85,emoji:"ü¶∑",minDepth:1600,maxDepth:1800,pattern:"DART",speed:5,weight:[2,5]},{id:"iso",name:"Giant Isopod",score:90,emoji:"ü¶ó",minDepth:1700,maxDepth:1800,pattern:"FLOAT",speed:1,weight:[1,2]},{id:"cyber",name:"Cyber Fish",score:110,emoji:"üëæ",minDepth:1800,maxDepth:2100,pattern:"DART",speed:5,weight:[2,5]},{id:"robot",name:"Bot-01",score:120,emoji:"ü§ñ",minDepth:1850,maxDepth:2100,pattern:"GLITCH",speed:3,weight:[50,100]},{id:"floppy",name:"Diskette",score:50,emoji:"üíæ",minDepth:1900,maxDepth:2100,pattern:"FLOAT",speed:0,weight:[.1,.1]},{id:"batt",name:"Battery",score:60,emoji:"üîã",minDepth:2e3,maxDepth:2100,pattern:"FLOAT",speed:0,weight:[.2,.5]},{id:"skull",name:"Bone Fish",score:60,emoji:"‚ò†Ô∏è",minDepth:2100,maxDepth:2400,pattern:"DART",speed:3,weight:[5,10]},{id:"fossil",name:"Trilobite",score:80,emoji:"üêå",minDepth:2150,maxDepth:2400,pattern:"FLOAT",speed:1,weight:[1,3]},{id:"dino",name:"Rex Skull",score:200,emoji:"ü¶ñ",minDepth:2200,maxDepth:2400,pattern:"SINE",speed:1,weight:[500,1e3]},{id:"key",name:"Skeleton Key",score:100,emoji:"üóùÔ∏è",minDepth:2100,maxDepth:2400,pattern:"FLOAT",speed:0,weight:[.1,.1]},{id:"pirate_skull",name:"Jolly Roger",score:150,emoji:"üè¥‚Äç‚ò†Ô∏è",minDepth:2200,maxDepth:2400,pattern:"FLOAT",speed:.5,weight:[1,2]},{id:"ember",name:"Fire Fish",score:130,emoji:"üê†",minDepth:2400,maxDepth:2700,pattern:"DART",speed:6,weight:[2,8]},{id:"dragon",name:"Sea Dragon",score:150,emoji:"üêâ",minDepth:2450,maxDepth:2700,pattern:"SINE",speed:2,weight:[50,200]},{id:"rock",name:"Obsidian",score:40,emoji:"ü™®",minDepth:2400,maxDepth:2700,pattern:"FLOAT",speed:0,weight:[50,100]},{id:"cooked",name:"Dinner",score:200,emoji:"üçó",minDepth:2500,maxDepth:2700,pattern:"FLOAT",speed:.5,weight:[.5,1]},{id:"ice",name:"Ice Cube",score:90,emoji:"üßä",minDepth:2700,maxDepth:3e3,pattern:"FLOAT",speed:.5,weight:[10,20]},{id:"penguin",name:"Lost Pingu",score:200,emoji:"üêß",minDepth:2750,maxDepth:3e3,pattern:"DART",speed:4,weight:[5,15]},{id:"yeti",name:"Yeti Crab",score:210,emoji:"ü¶Ä",minDepth:2800,maxDepth:3e3,pattern:"FLOAT",speed:1,weight:[2,5]},{id:"pizza",name:"Frozen Pizza",score:150,emoji:"üçï",minDepth:2900,maxDepth:3e3,pattern:"FLOAT",speed:0,weight:[.5,.5]},{id:"spirit",name:"Wisp",score:180,emoji:"üëª",minDepth:3e3,maxDepth:3500,pattern:"SINE",speed:2,weight:[0,0]},{id:"angel",name:"Seraphim",score:333,emoji:"üëº",minDepth:3100,maxDepth:3500,pattern:"FLOAT",speed:1,weight:[1,7]},{id:"cloud",name:"Nimbus",score:250,emoji:"‚òÅÔ∏è",minDepth:3e3,maxDepth:3500,pattern:"FLOAT",speed:.5,weight:[0,0]},{id:"harp",name:"Angel Harp",score:300,emoji:"üéµ",minDepth:3200,maxDepth:3500,pattern:"SINE",speed:1.5,weight:[5,10]},{id:"glitch",name:"MISSINGNO",score:150,emoji:"üëæ",minDepth:3500,maxDepth:4e3,pattern:"GLITCH",speed:6,weight:[0,999.9]},{id:"eye",name:"Watcher",score:120,emoji:"üëÅÔ∏è",minDepth:3500,maxDepth:4e3,pattern:"FLOAT",speed:.5,weight:[10,50]},{id:"alien",name:"Invader",score:140,emoji:"üëΩ",minDepth:3600,maxDepth:4e3,pattern:"GLITCH",speed:5,weight:[40,80]},{id:"dna",name:"Origin",score:200,emoji:"üß¨",minDepth:3700,maxDepth:4e3,pattern:"SINE",speed:3,weight:[.001,.002]},{id:"blackhole",name:"Singularity",score:500,emoji:"‚ö´",minDepth:3800,maxDepth:4e3,pattern:"FLOAT",speed:.1,weight:[9999,9999]},{id:"null",name:"NULL",score:0,emoji:"üö´",minDepth:3500,maxDepth:4e3,pattern:"GLITCH",speed:10,weight:[0,0]},{id:"undef",name:"undefined",score:404,emoji:"‚ÅâÔ∏è",minDepth:3600,maxDepth:4e3,pattern:"GLITCH",speed:8,weight:[404,404]},{id:"goldboot",name:"Golden Boot",score:500,emoji:"ü•æ",minDepth:0,maxDepth:4e3,pattern:"DART",speed:4,weight:[10,10],legendary:!0},{id:"cybershark",name:"Cyber Shark",score:1e3,emoji:"ü¶à",minDepth:1800,maxDepth:2100,pattern:"GLITCH",speed:5,weight:[500,1e3],legendary:!0},{id:"kraken",name:"Lil Kraken",score:800,emoji:"üêô",minDepth:3500,maxDepth:4e3,pattern:"SINE",speed:3,weight:[200,500],legendary:!0}],ve=[{id:"lure_neon",name:"Neon Cylinder",type:"bobber",price:500,desc:"High Visibility Cyan.",icon:"üß™",color:"#00ffff",char:"üü¶"},{id:"lure_sun",name:"Solar Flare",type:"bobber",price:800,desc:"Blindingly bright.",icon:"‚òÄÔ∏è",color:"#ffcc00",char:"‚ú®"},{id:"lure_love",name:"Love Potion",type:"bobber",price:1e3,desc:"Attracts fish with love.",icon:"üíñ",color:"#ff00aa",char:"‚ù§Ô∏è"},{id:"lure_toxic",name:"Rad Waste",type:"bobber",price:1200,desc:"Glows in the dark.",icon:"‚ò¢Ô∏è",color:"#00ff00",char:"üîã"},{id:"lure_void",name:"Abyss Beacon",type:"bobber",price:2e3,desc:"High contrast B&W.",icon:"‚ö´",color:"#ffffff",char:"‚ö™"},{id:"lure_fire",name:"Fireball",type:"bobber",price:1500,desc:"Hot stuff!",icon:"üî•",color:"#ff4400",char:"üî•"},{id:"lure_star",name:"Super Star",type:"bobber",price:3e3,desc:"Invincible vibe.",icon:"‚≠ê",color:"#ffffaa",char:"‚≠ê"},{id:"lure_ice",name:"Frost Bite",type:"bobber",price:1e3,desc:"Stay cool.",icon:"üßä",color:"#aaooff",char:"‚ùÑÔ∏è"},{id:"lure_money",name:"Bling Bling",type:"bobber",price:5e3,desc:"Trails of cash.",icon:"üíé",color:"#00ff00",char:"üí≤"},{id:"lure_matrix",name:"The Code",type:"bobber",price:4e3,desc:"See the matrix.",icon:"üëæ",color:"#00ff00",char:"01"},{id:"duck",name:"Rubber Duck",type:"skin",price:500,desc:"Squeak squeak!",icon:"ü¶Ü"},{id:"ufo",name:"U.F.O.",type:"skin",price:2e3,desc:"Beam them up!",icon:"üõ∏"},{id:"pirate",name:"Galleon",type:"skin",price:1e3,desc:"Yarrr!",icon:"üè¥‚Äç‚ò†Ô∏è"},{id:"banana",name:"Banana Boat",type:"skin",price:3e3,desc:"Potassium!",icon:"üçå"},{id:"viking",name:"Longship",type:"skin",price:5e3,desc:"Valhalla!",icon:"üõ°Ô∏è"},{id:"box",name:"Cardboard Box",type:"skin",price:10,desc:"Budget option.",icon:"üì¶"},{id:"trash",name:"Trash Lid",type:"skin",price:69,desc:"Garbage Day.",icon:"üóëÔ∏è"},{id:"balloon",name:"Red Balloon",type:"skin",price:67,desc:"You float too.",icon:"üéà"},{id:"toilet",name:"The Throne",type:"skin",price:150,desc:"Flush away.",icon:"üöΩ"},{id:"tub",name:"Bathtub",type:"skin",price:200,desc:"Scrub a dub.",icon:"üõÅ"},{id:"chair",name:"Gamer Chair",type:"skin",price:399,desc:"+10% Skill.",icon:"üí∫"},{id:"pizza_raft",name:"Giant Slice",type:"skin",price:420,desc:"Greasy.",icon:"üçï"},{id:"carpet",name:"Magic Carpet",type:"skin",price:1e3,desc:"Shining, shimmering.",icon:"üßû"},{id:"cloud",name:"Nimbus",type:"skin",price:777,desc:"Pure heart required.",icon:"‚òÅÔ∏è"},{id:"invisible",name:"Invisible Boat",type:"skin",price:5e3,desc:"To the invisible boatmobile!",icon:"üö´"},{id:"bigbar",name:"Titanium Bar",type:"upgrade",price:1500,desc:"+10% Catch Area",icon:"üìè"},{id:"turbo",name:"Turbo Reel",type:"upgrade",price:1500,desc:"+10% Reel Speed",icon:"‚è©"},{id:"diamond",name:"Diamond Rod",type:"upgrade",price:1e4,desc:"The Ultimate Flex",icon:"üíé"},{id:"hats",name:"Fish Fashion",type:"upgrade",price:3e3,desc:"Fish wear hats!",icon:"üé©"}],h=1280,p=720,ie=4e3,z=80,k=300,$e=()=>{const[Me,Ie]=f.useState(window.innerHeight>window.innerWidth),{shopState:u={unlocked:[],equipped:{}},playSound:Ue,incrementStat:E,updateStat:H,addCoins:oe,userProfile:je}=We()||{};f.useEffect(()=>{const e=()=>Ie(window.innerHeight>window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const[C,b]=f.useState("IDLE"),[Ee,Ce]=f.useState(0),[R,ne]=f.useState(0),[x,W]=f.useState(null),[Ae,Re]=f.useState(0),[re,te]=f.useState(!1),[Y,ae]=f.useState(null),[L,se]=f.useState(0),[P,le]=f.useState([]),[F,O]=f.useState("boat_default"),[D,B]=f.useState("bobber_red"),[v,X]=f.useState(!1),g=f.useRef("IDLE"),U=f.useRef(null),q=f.useRef(),M=f.useRef(null),S=f.useRef("boat_default"),V=f.useRef([]),de=f.useRef(0);f.useEffect(()=>{let e="boat_default",i=!1;if(u?.equipped&&(u.equipped.fishing_boat&&(e=u.equipped.fishing_boat),u.equipped.fishing_rod==="rod_gold"&&(i=!0),u.equipped.fishing)){const o=u.equipped.fishing;o.includes("boat")&&(e=o),o==="rod_gold"&&(i=!0)}S.current=e,O(e),u?.equipped?.fishing_bobber&&B(u.equipped.fishing_bobber),u?.unlocked?.includes("rod_gold")&&(i=!0),X(i),u?.unlocked&&(V.current=u.unlocked),de.current=R},[u,R]);const m=f.useRef({hookX:h/2,hookY:100,depth:0,fish:[],lastSpawnDepth:0,battleFish:null,barPos:0,barVel:0,fishPos:0,fishTarget:0,fishTimer:0,catchPercent:30,castTimer:0,particles:[],shake:0,bossSpawned:!1,lastBiomeIndex:-1}),I=f.useRef(!1),{playBeep:he,playJump:Le,playCollect:$,playWin:N,playCrash:pe}=Ye();f.useEffect(()=>{const e=new Image;e.src="/assets/boy-logo.png",M.current=e;try{const i=parseInt(localStorage.getItem("arcadeCoins"))||0;se(i);const o=JSON.parse(localStorage.getItem("fishingInventory"))||[];le(o);const n=localStorage.getItem("fishingSkin")||"default";O(n);const a=localStorage.getItem("fishingBobber")||"lure_neon";B(a),localStorage.getItem("goldenRod")&&X(!0)}catch(i){console.error("Save file corrupted, resetting",i)}return m.current.isRunning||(m.current.isRunning=!0,q.current=requestAnimationFrame(ce)),()=>{m.current.isRunning=!1,cancelAnimationFrame(q.current)}},[]);const Pe=e=>{if(P.includes(e.id)){e.type==="skin"?(O(e.id),localStorage.setItem("fishingSkin",e.id),$()):e.type==="bobber"&&(B(e.id),localStorage.setItem("fishingBobber",e.id),$());return}if(L>=e.price){const i=L-e.price;se(i),localStorage.setItem("arcadeCoins",i);const o=[...P,e.id];le(o),localStorage.setItem("fishingInventory",JSON.stringify(o)),N(),e.type==="skin"?(O(e.id),localStorage.setItem("fishingSkin",e.id)):e.type==="bobber"&&(B(e.id),localStorage.setItem("fishingBobber",e.id))}else pe()},ce=()=>{if(m.current.isRunning){try{const e=g.current,i=m.current,o=U.current?.getContext("2d");o&&(Fe(e,i),Oe(o,e,i))}catch(e){console.error(e)}q.current=requestAnimationFrame(ce)}},Fe=(e,i)=>{if(i.particles.forEach(o=>{o.x+=o.dx,o.y+=o.dy,o.life-=.015}),i.particles=i.particles.filter(o=>o.life>0&&o.y>-100),i.shake>0&&(i.shake*=.9,i.shake<.5&&(i.shake=0)),D&&i.depth>=0){const o=e==="DROPPING"||e==="REELING_UP",n=o?.9:.3,a=ve.find(r=>r.id===D);Math.random()<n&&(a&&a.color?i.particles.push({x:i.hookX+(Math.random()-.5)*10,y:i.hookY,dx:(Math.random()-.5)*2,dy:-2-Math.random(),life:1,char:a.char||"‚óè",color:a.color,size:o?20:10}):i.particles.push({x:i.hookX,y:i.hookY,dx:0,dy:0,life:.5,char:"üî¥",color:"red"}))}if(e==="IDLE"&&i.castTimer++,e==="CASTING"&&(i.castTimer++,i.castTimer>120&&me()),e==="DROPPING"){i.depth+=.45,i.depth>ie&&(i.depth=ie);const o=A.find(r=>i.depth<=r.maxDepth)||A[0],n=A.indexOf(o);if(n!==i.lastBiomeIndex&&(i.lastBiomeIndex=n,n>0&&(ae(o.name),setTimeout(()=>ae(null),3e3),navigator.vibrate&&navigator.vibrate(200))),Math.random()>.98)if(o.effect==="STAR")i.particles.push({type:"bg",x:Math.random()*h,y:0,dx:2+Math.random()*3,dy:2+Math.random()*3,life:1.5,char:"üå†",color:"yellow"});else if(o.effect==="BUBBLE_COLUMN")for(let r=0;r<5;r++)i.particles.push({type:"bg",x:100+Math.random()*50,y:p+r*20,dx:0,dy:-2-Math.random(),life:3,char:"‚óã",color:"rgba(255,255,255,0.3)"});else if(o.effect==="VOLCANO")i.particles.push({type:"bg",x:Math.random()*h,y:p,dx:Math.random()-.5,dy:-1,life:4,char:"üåã",color:"red"});else if(o.effect==="AURORA")i.particles.push({type:"bg",x:Math.random()*h,y:Math.random()*p,dx:.2,dy:0,life:5,char:"„Ä∞Ô∏è",color:"cyan"});else if(o.effect==="EYES")Math.random()>.5&&i.particles.push({type:"bg",x:Math.random()*h,y:Math.random()*p,dx:0,dy:0,life:1,char:"üëÄ",color:"red",size:40});else if(o.effect==="FOG")i.particles.push({type:"bg",x:Math.random()*h,y:Math.random()*p,dx:Math.random()-.5,dy:0,life:4,char:"‚òÅÔ∏è",color:"rgba(100,100,100,0.2)",size:100});else if(o.effect==="MATRIX"){const r=String.fromCharCode(12448+Math.random()*96);i.particles.push({type:"bg",x:Math.random()*h,y:0,dx:0,dy:5+Math.random()*5,life:2,char:r,color:"#00ff00"})}else o.effect==="BONES"?i.particles.push({type:"bg",x:Math.random()*h,y:0,dx:Math.random()-.5,dy:2+Math.random(),life:3,char:"ü¶¥",color:"#ccc"}):o.effect==="EMBER"?i.particles.push({type:"bg",x:Math.random()*h,y:p,dx:(Math.random()-.5)*2,dy:-4-Math.random(),life:2,char:"üî•",color:"orange"}):o.effect==="SNOW"?i.particles.push({type:"bg",x:Math.random()*h,y:0,dx:Math.random()-.5,dy:1+Math.random(),life:3,char:"‚ùÑÔ∏è",color:"white"}):o.effect==="SPIRIT"?i.particles.push({type:"bg",x:Math.random()*h,y:p,dx:Math.random()-.5,dy:-1,life:4,char:"‚ú®",color:"violet"}):o.effect==="GLITCH"&&Math.random()>.2&&i.particles.push({type:"bg",x:Math.random()*h,y:Math.random()*p,dx:0,dy:0,life:.5,char:["‚ñë","‚ñí","‚ñì"][Math.floor(Math.random()*3)],color:"white"});if(Math.random()>.9&&i.particles.push({x:Math.random()*h,y:p+10,dx:(Math.random()-.5)*.5,dy:-1-Math.random(),life:2,char:o.particle}),i.depth-i.lastSpawnDepth>12)if(i.lastSpawnDepth=i.depth,i.depth>3980&&!i.godChestSpawned)i.fish.push({x:h/2-50,y:p+50,type:{id:"god_chest",name:"GOD CHEST",score:0,emoji:"üëë‚ö∞Ô∏è",pattern:"FLOAT",speed:0,weight:[420,420],instant:!0,god:!0},id:"god",dir:0}),i.godChestSpawned=!0;else if(i.depth>1900&&i.depth<2500&&!i.bossSpawned)i.fish.push({x:Math.random()*(h-40),y:p+50,type:{id:"mermaid",name:"MER-LOGO",score:300,type:"image",src:"/assets/boy-logo.png",pattern:"GLITCH",speed:5,legendary:!0,emoji:"üßú‚Äç‚ôÇÔ∏è"},id:Math.random(),dir:1}),i.bossSpawned=!0;else if(Math.random()>.95)i.fish.push({x:Math.random()*(h-40),y:p+50,type:{id:"chest",name:"Treasure!",score:50,emoji:"üíé",pattern:"FLOAT",speed:0,weight:[5,5],instant:!0},id:Math.random(),dir:0});else{let r=ee.filter(d=>i.depth>=d.minDepth&&i.depth<=d.maxDepth);if(Math.random()>.1&&(r=r.filter(d=>!d.legendary)),r.length>0){const d=r[Math.floor(Math.random()*r.length)],t=Math.random()>.9,l={...d,score:t?d.score*3:d.score,name:t?`Shiny ${d.name}`:d.name,shiny:t},c=Math.random()>.8,w=(l.id==="eel"||l.id==="snake")&&Math.random()>.5;i.fish.push({x:Math.random()*(h-40),y:c?-50:p+50,type:l,id:Math.random(),dir:Math.random()>.5?1:-1,fromTop:c,swimUp:w})}}i.fish.forEach(r=>{e==="REELING_UP"?r.y+=25:r.fromTop?r.y+=1:r.swimUp?(r.y-=6,r.x+=Math.sin(i.depth*.1)*5):r.y-=3,r.x+=r.dir*2,(r.x<0||r.x>h-40)&&(r.dir*=-1)}),e==="REELING_UP"?i.fish=i.fish.filter(r=>r.y<p+100):i.fish=i.fish.filter(r=>r.y>-50);const a={x:i.hookX-10,y:i.hookY-10,w:20};if(i.depth>=ie){const r=Math.floor(Math.random()*501);ue({id:"abyss_chest",name:"Abyss Chest",score:r,emoji:"üéÅ",pattern:"FLOAT",speed:0,weight:[50,50],instant:!0});return}for(let r of i.fish)if(a.x<r.x+40&&a.x+a.w>r.x&&a.y<r.y+40&&a.y+a.w>r.y){ue(r.type);return}}if(e==="BATTLE"&&i.battleFish){I.current?i.barVel+=.4:i.barVel-=.3,i.barPos+=i.barVel;const o=k-z;i.barPos<0&&(i.barPos=0,i.barVel=0),i.barPos>o&&(i.barPos=o,i.barVel=0);const{pattern:n}=i.battleFish,a=(i.battleFish.speed||1)*1;i.fishTimer++;const r=k-40;if(i.fishTarget||(i.fishTarget=i.fishPos),n==="FLOAT"){i.fishTimer%60===0&&(i.fishTarget=Math.random()*r);const T=i.fishTarget-i.fishPos;i.fishPos+=Math.sign(T)*Math.min(Math.abs(T),a)}else if(n==="DART"){i.fishTimer%120===0&&(i.fishTarget=Math.random()*r);const T=i.fishTarget-i.fishPos;Math.abs(T)>10?i.fishPos+=Math.sign(T)*Math.min(Math.abs(T),a*4):i.fishPos+=Math.sin(i.fishTimer/20)*.5}else n==="SINE"?i.fishPos=r/2+Math.sin(Date.now()/800)*(r/2-10):n==="GLITCH"&&(i.fishTimer%60===0&&Math.random()>.7&&(i.fishPos=Math.random()*r),i.fishPos+=(Math.random()-.5)*a*4);i.fishPos=Math.max(0,Math.min(r,i.fishPos));const d=i.barPos,t=i.barPos+z,l=i.fishPos,c=i.fishPos+40,y=d<c-5&&t>l+5,w=Math.min((i.battleFish.score||10)*5e-4,.3);if(y)i.catchPercent+=.3;else{const T=.1+w;i.catchPercent-=T,i.fishTimer%5===0&&(i.barPos+=(Math.random()-.5)*5)}i.catchPercent>=100?Ge():i.catchPercent<=0&&He()}if(e==="REELING_UP"){if(i.depth-=8,Math.random()>.4){const o=ee.filter(n=>i.depth>=n.minDepth&&i.depth<=n.maxDepth);if(o.length>0){const n=o[Math.floor(Math.random()*o.length)];i.fish.push({x:Math.random()*(h-40),y:-50,type:n,id:Math.random(),dir:Math.random()>.5?1:-1})}}i.depth<=0&&(i.depth=0,ze())}e==="SHOWCASE_CATCH"&&(i.castTimer++,i.castTimer>30&&ge())},Oe=(e,i,o)=>{if(e.save(),o.shake>0){const t=(Math.random()-.5)*o.shake,l=(Math.random()-.5)*o.shake;e.translate(t,l)}if(e.save(),o.shake>0){const t=(Math.random()-.5)*o.shake,l=(Math.random()-.5)*o.shake;e.translate(t,l)}const n=A.find(t=>o.depth<=t.maxDepth)||A[0],a=e.createLinearGradient(0,0,0,p);if(a.addColorStop(0,n.color[0]),a.addColorStop(1,n.color[1]),i==="SHOWCASE_CATCH"?e.fillStyle="#87CEEB":e.fillStyle=a,e.fillRect(0,0,h,p),i==="CASTING"||i==="IDLE"||i==="SHOP"||i==="FISHDEX"){Be(e,o),e.restore();return}if(i==="SHOWCASE_CATCH"){_e(e,o),e.restore();return}e.strokeStyle="rgba(255,255,255,0.1)";const r=o.depth*10%100;for(let t=0;t<p;t+=100)e.beginPath(),e.moveTo(0,t-r),e.lineTo(h,t-r),e.stroke();o.particles.forEach(t=>{e.save(),e.fillStyle=t.color||`rgba(255,255,255,${t.life})`,t.color&&(e.shadowColor=t.color,e.shadowBlur=10),e.font=t.size?`${t.size}px serif`:"20px serif",e.fillText(t.char,t.x,t.y),e.restore()}),i==="DROPPING"&&(e.font="30px serif",o.fish.forEach(t=>{if(t.type.shiny&&(e.shadowColor="gold",e.shadowBlur=10),e.fillText(t.type.emoji,t.x,t.y),e.shadowBlur=0,V.current.includes("hats")&&!t.type.instant){e.font="20px serif";const l=Math.floor(t.id*100)%2===0?"üé©":"üß¢";e.fillText(l,t.x,t.y-20),e.font="30px serif"}V.current.includes("hats")&&Math.random()>.8&&(e.font="15px serif",e.fillText("üëî",t.x+5,t.y+15))})),e.strokeStyle=v?"gold":"silver",e.lineWidth=v?3:1,e.beginPath(),e.moveTo(o.hookX,0),e.lineTo(o.hookX,o.hookY),e.stroke(),e.fillStyle=v?"gold":"silver";const d=D==="bobber_duck"?"ü¶Ü":D==="bobber_skull"?"üíÄ":D==="bobber_sparkle"?"‚ú®":D==="bobber_neon"?"üßø":D==="bobber_comet"?"‚òÑÔ∏è":null;if(d?(e.font="20px serif",e.fillText(d,o.hookX-10,o.hookY+5)):e.fillRect(o.hookX-5,o.hookY,10,10),S.current==="ufo"&&(e.strokeStyle="#00ff00",e.lineWidth=2,e.beginPath(),e.moveTo(o.hookX,0),e.lineTo(o.hookX,o.hookY),e.stroke()),i==="REELING_UP"){const t=o.battleFish;e.font="40px serif",t.type==="image"?e.fillText("üßú‚Äç‚ôÇÔ∏è",o.hookX-20,o.hookY+40):e.fillText(t.emoji,o.hookX-20,o.hookY+40)}i==="BATTLE"&&o.battleFish&&Ne(e,o),e.fillStyle="white",e.font="16px monospace",i!=="CASTING"&&e.fillText(`DEPTH: ${Math.floor(o.depth)}m`,10,20)},Be=(e,i)=>{e.fillStyle="#87CEEB",e.fillRect(0,0,h,p),e.fillStyle="#006994",e.fillRect(0,p-100,h,100);const o=h/2,n=p-100,a=i.castTimer,r=a<60?Math.sin(a)*10:0;e.save(),e.translate(o,n),e.rotate(r*Math.PI/180),e.translate(-o,-n);const d=S.current;switch(d){case"boat_duck":case"duck":e.font="100px serif",e.fillText("ü¶Ü",o-50,n+30);break;case"boat_ufo":case"ufo":e.font="100px serif",e.fillText("üõ∏",o-50,n+30);break;case"boat_pirate":case"pirate":e.font="100px serif",e.fillText("üè¥‚Äç‚ò†Ô∏è",o-50,n+10),e.fillStyle="#5C4033",e.fillRect(o-70,n+10,140,40);break;case"boat_banana":case"banana":e.font="100px serif",e.fillText("üçå",o-50,n+10);break;case"boat_viking":case"viking":e.font="100px serif",e.fillText("üõ∂",o-50,n+10),e.font="40px serif",e.fillText("üõ°Ô∏è",o-30,n+30),e.fillText("üõ°Ô∏è",o+30,n+30);break;case"boat_box":case"box":e.font="100px serif",e.fillText("üì¶",o-50,n+20);break;case"boat_trash":case"trash":e.font="100px serif",e.fillText("üóëÔ∏è",o-50,n+20);break;case"boat_toilet":case"toilet":e.font="100px serif",e.fillText("üöΩ",o-50,n+20);break;case"boat_tub":case"tub":e.font="100px serif",e.fillText("üõÅ",o-50,n+20);break;case"boat_chair":case"chair":e.font="100px serif",e.fillText("üí∫",o-50,n+20);break;case"boat_pizza":case"pizza_raft":e.font="120px serif",e.fillText("üçï",o-60,n+40);break;case"boat_carpet":case"carpet":e.font="120px serif",e.fillText("üßû",o-60,n+40),e.fillStyle="purple",e.fillRect(o-60,n,120,10);break;case"boat_cloud":case"cloud":e.font="100px serif",e.fillText("‚òÅÔ∏è",o-50,n+20);break;case"boat_invisible":case"invisible":break;case"boat_balloon":case"balloon":e.strokeStyle="white",e.beginPath(),e.moveTo(o,n-30),e.lineTo(o,n-150),e.stroke(),e.font="80px serif",e.fillText("üéà",o-25,n-150);break;default:e.fillStyle="#8B4513",e.beginPath(),e.moveTo(o-100,n-20),e.lineTo(o+100,n-20),e.lineTo(o+70,n+30),e.lineTo(o-70,n+30),e.fill()}let t=n-30,l=o;d.includes("balloon")&&(t=n-50),(d.includes("chair")||d.includes("toilet"))&&(t=n-10),e.strokeStyle="black",e.lineWidth=3,e.beginPath(),e.moveTo(l,t),e.lineTo(l,t-50),d.includes("balloon")?(e.moveTo(l,t),e.lineTo(l-10,t+20),e.moveTo(l,t),e.lineTo(l+10,t+20)):d.includes("chair")||d.includes("toilet")?(e.moveTo(l,t),e.lineTo(l+20,t),e.lineTo(l+20,t+20)):(e.moveTo(l-20,t+10),e.lineTo(l,t),e.lineTo(l+20,t+10)),e.stroke(),e.save(),e.translate(l,t-80),a<60&&e.rotate(a),M.current&&M.current.complete?e.drawImage(M.current,-25,-25,50,50):(e.beginPath(),e.arc(0,0,20,0,Math.PI*2),e.stroke()),e.restore();let c=0,y=0;a<60?(c=-a,y=c-Math.PI/4):a<80?(c=-Math.PI/2+(Math.random()-.5)*.2,y=c):(c=Math.PI/2,y=Math.PI/3),F==="balloon"&&(c=Math.PI);const w=l,T=t-40,Z=w+Math.cos(c)*30,Q=T+Math.sin(c)*30;e.beginPath(),e.moveTo(w,T),e.lineTo(Z,Q),e.stroke();const _=Z+Math.cos(y)*100,G=Q+Math.sin(y)*100;if(e.strokeStyle="#555",e.lineWidth=4,e.beginPath(),e.moveTo(Z,Q),e.lineTo(_,G),e.stroke(),a>80){e.strokeStyle=F==="ufo"?"#00ff00":"white",e.lineWidth=1,e.beginPath(),e.moveTo(_,G);const De=Math.min(p,G+(a-80)*25),we=_+(a-80)*15;e.quadraticCurveTo(_+50,G-50,we,De),e.stroke(),e.fillStyle="red",e.font="bold 60px monospace",e.fillText("YEET!",50,200),De>=n&&(e.fillStyle="white",e.beginPath(),e.arc(we,n,a-80,0,Math.PI),e.fill())}e.restore(),e.restore()},Ne=(e,i)=>{const o=h/2-25,n=50;e.fillStyle="rgba(0,0,0,0.5)",e.fillRect(o,n,50,k),e.strokeStyle="white",e.strokeRect(o,n,50,k);const a=P.includes("bigbar")?z*1.2:z,r=n+k-i.barPos-a,d=n+k-i.fishPos-40,t=i.barPos<i.fishPos+40&&i.barPos+a>i.fishPos;e.fillStyle=t?"#00ff00":"rgba(0,255,0,0.4)",e.fillRect(o+2,r,46,a),e.font="30px serif",i.battleFish.type==="image"?e.fillText("üßú‚Äç‚ôÇÔ∏è",o+10,d+30):e.fillText(i.battleFish.emoji,o+10,d+30);const l=i.catchPercent/100*k;t&&(e.fillStyle="#00ff00",e.font="bold 24px monospace",e.fillText("REELING!",h/2-40,40)),e.fillStyle=t?"cyan":"gold",e.fillRect(o+60,n+k-l,20,l)},_e=(e,i)=>{e.fillStyle="#87CEEB",e.fillRect(0,0,h,p),e.fillStyle="#006994",e.fillRect(0,p-100,h,100);const o=h/2,n=p-100;switch(e.font="100px serif",S.current){case"duck":e.fillText("ü¶Ü",o-50,n+30);break;case"ufo":e.fillText("üõ∏",o-50,n+30);break;case"pirate":e.fillText("üè¥‚Äç‚ò†Ô∏è",o-50,n+10),e.fillStyle="#5C4033",e.fillRect(o-70,n+10,140,40);break;case"banana":e.fillText("üçå",o-50,n+10);break;case"viking":e.fillText("üõ∂",o-50,n+10),e.font="40px serif",e.fillText("üõ°Ô∏è",o-30,n+30),e.fillText("üõ°Ô∏è",o+30,n+30);break;case"box":e.fillText("üì¶",o-50,n+20);break;case"trash":e.fillText("üóëÔ∏è",o-50,n+20);break;case"toilet":e.fillText("üöΩ",o-50,n+20);break;case"tub":e.fillText("üõÅ",o-50,n+20);break;case"chair":e.fillText("üí∫",o-50,n+20);break;case"pizza_raft":e.font="120px serif",e.fillText("üçï",o-60,n+40);break;case"carpet":e.font="120px serif",e.fillText("üßû",o-60,n+40),e.fillStyle="purple",e.fillRect(o-60,n,120,10);break;case"cloud":e.fillText("‚òÅÔ∏è",o-50,n+20);break;case"invisible":break;case"balloon":e.strokeStyle="white",e.beginPath(),e.moveTo(o,n-30),e.lineTo(o,n-150),e.stroke(),e.font="80px serif",e.fillText("üéà",o-25,n-150);break;default:e.fillStyle="#8B4513",e.beginPath(),e.moveTo(o-100,n-20),e.lineTo(o+100,n-20),e.lineTo(o+70,n+30),e.lineTo(o-70,n+30),e.fill()}let a=n-30;S.current==="balloon"&&(a=n-50),(S.current==="chair"||S.current==="toilet")&&(a=n-10);const r=o;e.strokeStyle="black",e.lineWidth=3,e.beginPath(),e.moveTo(r,a),e.lineTo(r,a-50),S.current==="balloon"?(e.moveTo(r,a),e.lineTo(r-10,a+20),e.moveTo(r,a),e.lineTo(r+10,a+20)):S.current==="chair"||S.current==="toilet"?(e.moveTo(r,a),e.lineTo(r+20,a),e.lineTo(r+20,a+20)):(e.moveTo(r-20,a+10),e.lineTo(r,a),e.lineTo(r+20,a+10)),e.moveTo(r,a-40),e.lineTo(r-25,a-80),e.moveTo(r,a-40),e.lineTo(r+25,a-80),e.stroke(),M.current&&M.current.complete?e.drawImage(M.current,r-25,a-110,50,50):(e.beginPath(),e.arc(r,a-80,20,0,Math.PI*2),e.stroke());const d=a-120-Math.sin(i.castTimer/10)*10,t=i.battleFish||x;e.font="80px serif",e.textAlign="center",t&&t.type==="image"?e.fillText("üßú‚Äç‚ôÇÔ∏è",r,d):t&&e.fillText(t.emoji,r,d),e.textAlign="start",e.save(),e.globalCompositeOperation="lighter";const l=Math.abs(Math.sin(i.castTimer/5));e.fillStyle=`rgba(255, 215, 0, ${l*.5})`,e.beginPath(),e.arc(r,d-30,120,0,Math.PI*2),e.fill(),e.restore(),i.particles.forEach(c=>{e.fillStyle=c.color||`rgba(255,255,255,${c.life})`,e.font=c.size?`${c.size}px serif`:"20px serif",e.fillText(c.char,c.x,c.y)})},fe=()=>{g.current!=="CASTING"&&(g.current="CASTING",b("CASTING"),m.current.castTimer=0,he())},me=()=>{g.current="DROPPING",b("DROPPING"),m.current.depth=0,m.current.fish=[],m.current.particles=[],m.current.bossSpawned=!1,Le()},ue=e=>{if(e){if(e.instant){if(W(e),m.current.battleFish=e,e.god){const i=Math.floor(Math.random()*352)+69;e.score=i,e.name=`ANCIENT LOOT: ${i}`}ge();return}g.current="BATTLE",b("BATTLE"),W(e),m.current.battleFish=e,m.current.barPos=0,m.current.catchPercent=25,navigator.vibrate&&navigator.vibrate(200),he()}},Ge=()=>{g.current="REELING_UP",$()},ze=()=>{g.current="SHOWCASE_CATCH",b("SHOWCASE_CATCH"),m.current.castTimer=0,m.current.particles=[],N()},ge=()=>{g.current="CATCH_SCREEN",b("CATCH_SCREEN"),N(),Xe();const e=m.current.battleFish,i=e.weight?e.weight[0]:1,o=e.weight?e.weight[1]:5,n=parseFloat((Math.random()*(o-i)+i).toFixed(2));Re(n);const a=JSON.parse(localStorage.getItem("fishingRecords"))||{},r=a[e.id]||0;n>r?(a[e.id]=n,localStorage.setItem("fishingRecords",JSON.stringify(a)),te(!0),N()):te(!1),e.legendary&&!v&&(localStorage.setItem("goldenRod","true"),X(!0));const d=1+de.current*.1;let t=e.score;t>75&&(t=75+Math.floor((t-75)*.1));const l=Math.floor(t*d);ne(w=>w+1);const c=Ee+l;Ce(c),oe&&oe(l),E&&(E("fishCaught",1),E("gamesPlayedCount",1)),H&&(H("gamesPlayed","fishing"),H("crazyFishingHighScore",c));const y=je?.name||"Player";e.legendary&&E?(E("legendariesCaught",1),xe.publish(`caught a LEGENDARY ${e.name}!`,"win",y)):c>500&&Math.random()>.7&&xe.publish(`is on a fishing streak! Score: ${c}`,"win",y)},He=()=>{g.current="IDLE",b("IDLE"),W(null),ne(0),pe();const e=m.current;for(let i=0;i<10;i++)e.particles.push({x:h/2,y:p/2,dx:(Math.random()-.5)*10,dy:(Math.random()-.5)*10,life:1,char:"üí®",size:30});e.particles.push({x:h/2-100,y:p/2,dx:0,dy:-1,life:2,char:"ESCAPED!",color:"red",size:40})},be=e=>{e.code==="Space"&&(I.current=!0)},ye=e=>{e.code==="Space"&&(I.current=!1)},Te=e=>{e.type==="touchstart"&&e.preventDefault(),I.current=!0,g.current==="IDLE"&&fe()},J=()=>{I.current=!1,g.current==="CASTING"&&me()},Se=e=>{if(g.current==="DROPPING"){const i=U.current;if(!i)return;let o,n;e.touches&&e.touches.length>0?(o=e.touches[0].clientX,n=e.touches[0].clientY):(o=e.clientX,n=e.clientY);const a=i.getBoundingClientRect(),r=i.width/a.width,d=i.height/a.height,t=(o-a.left)*r,l=(n-a.top)*d;m.current.hookX=Math.max(20,Math.min(h-20,t)),m.current.hookY=Math.max(50,Math.min(p-50,l))}};f.useEffect(()=>{window.addEventListener("keydown",be),window.addEventListener("keyup",ye);const e=()=>{I.current=!1};return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),()=>{window.removeEventListener("keydown",be),window.removeEventListener("keyup",ye),window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e)}},[]);const K=({title:e,onClose:i,children:o,color:n="var(--neon-blue)"})=>s.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 5, 20, 0.90)",zIndex:2e3,display:"flex",flexDirection:"column",padding:"20px",boxSizing:"border-box",backdropFilter:"blur(15px)",fontFamily:'"Orbitron", sans-serif'},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:`1px solid ${n}`,paddingBottom:"15px"},children:[s.jsx("h2",{style:{margin:0,color:n,fontSize:"2rem",textShadow:`0 0 10px ${n}`},children:e}),s.jsx(j,{onClick:i,style:{background:"#111",color:"#888",border:"1px solid #333",fontSize:"1.2rem",padding:"10px 20px"},children:"‚ùå"})]}),s.jsx("div",{className:"glass-panel",style:{flex:1,overflowY:"auto",background:"rgba(255,255,255,0.02)",padding:"20px"},children:o})]});return Me&&window.innerWidth<768?s.jsx(K,{title:"ROTATE PHONE",onClose:()=>{},color:"orange",children:s.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[s.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"üì±üîÑ"}),s.jsx("div",{children:"Please rotate your device specifically for this fishing trip!"}),s.jsx("div",{style:{fontSize:"0.8rem",color:"#888",marginTop:"20px"},children:"(Landscape Mode Required)"})]})}):s.jsxs("div",{onContextMenu:e=>e.preventDefault(),style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"linear-gradient(to bottom, #001133 0%, #006994 100%)",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",outline:"none",overscrollBehavior:"none"},children:[s.jsx("div",{style:{position:"absolute",top:"10px",width:"100%",display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:10},children:s.jsx("h1",{style:{fontFamily:'"Orbitron", sans-serif',fontSize:"1.8rem",margin:0,textShadow:"0 0 10px rgba(0,0,0,0.8)",color:v?"var(--neon-gold)":"white"},children:v?"‚ú® GOLDEN FISHING ‚ú®":"DEEP DIVE FISHING"})}),s.jsxs("div",{style:{position:"absolute",top:"15px",right:"20px",fontSize:"1.2rem",color:"white",fontWeight:"bold",zIndex:10,fontFamily:'"Orbitron", monospace',display:"flex",gap:"20px"},children:[s.jsxs("span",{style:{color:"var(--neon-gold)",textShadow:"0 0 5px orange"},children:["üí∞ ",L]}),s.jsxs("span",{style:{color:"var(--neon-pink)",textShadow:"0 0 5px red"},children:["üî• ",R]})]}),s.jsx(ke,{to:"/arcade",style:{position:"absolute",top:"15px",left:"20px",zIndex:100},children:s.jsx(j,{style:{borderRadius:"50px",padding:"10px 20px",fontSize:"1.2rem",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(5px)",textDecoration:"none"},children:"üè† EXIT"})}),s.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",position:"relative"},children:s.jsxs("div",{style:{width:"auto",height:"auto",maxWidth:"100vw",maxHeight:"90vh",aspectRatio:"16/9",border:v?"4px solid gold":"4px solid white",borderRadius:"20px",backgroundColor:"#000",position:"relative",overflow:"hidden",boxShadow:"0 0 20px rgba(0,255,255,0.2)",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",flexShrink:0},children:[s.jsx("canvas",{ref:U,width:h,height:p,onMouseDown:Te,onMouseUp:J,onMouseLeave:J,onMouseMove:Se,onTouchStart:Te,onTouchEnd:J,onTouchMove:Se,style:{width:"100%",height:"100%",cursor:C==="IDLE"?"pointer":"none",touchAction:"none",userSelect:"none",WebkitUserSelect:"none"}}),C==="IDLE"&&s.jsx("div",{style:{position:"absolute",top:"30%",width:"100%",textAlign:"center",pointerEvents:"none"},children:s.jsx("h2",{style:{color:"white",textShadow:"2px 2px black",fontSize:"5vw"},children:"TAP TO CAST"})}),C==="FISHDEX"&&s.jsx(K,{title:"üìò FISHDEX",onClose:()=>b("IDLE"),color:"cyan",children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"10px"},children:ee.map(e=>{const o=(JSON.parse(localStorage.getItem("fishingRecords"))||{})[e.id],n=o!==void 0;return s.jsxs("div",{style:{border:n?e.legendary?"2px solid gold":"1px solid cyan":"1px solid #333",background:n?"#111":"#000",padding:"10px",borderRadius:"10px",textAlign:"center",opacity:n?1:.5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[s.jsx("div",{style:{fontSize:"3rem"},children:n?e.emoji:"‚ùì"}),s.jsx("div",{style:{fontWeight:"bold",fontSize:"0.8rem",marginTop:"5px",color:"white"},children:n?e.name:"???"}),n&&s.jsxs("div",{style:{fontSize:"0.7rem",color:"lime"},children:["Max: ",o,"kg"]})]},e.id)})})}),C==="SHOP"&&s.jsxs(K,{title:"üõçÔ∏è SHOP",onClose:()=>b("IDLE"),color:"gold",children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",color:"yellow",fontSize:"1.5rem"},children:["Wallet: ",L," üí∞"]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:ve.map(e=>{const i=P.includes(e.id),o=F===e.id||D===e.id;return s.jsxs("div",{onClick:()=>Pe(e),style:{border:i?o?"2px solid lime":"2px solid gray":"2px solid white",padding:"15px",borderRadius:"15px",cursor:"pointer",background:i?"#222":"#000",display:"flex",alignItems:"center",gap:"20px"},children:[s.jsx("div",{style:{fontSize:"3rem"},children:e.icon}),s.jsxs("div",{style:{flex:1,textAlign:"left"},children:[s.jsx("div",{style:{fontWeight:"bold",fontSize:"1.2rem",color:"white"},children:e.name}),s.jsx("div",{style:{fontSize:"0.9rem",color:"#aaa"},children:e.desc})]}),s.jsx("div",{children:i?s.jsx("div",{style:{color:o?"lime":"white",fontWeight:"bold"},children:e.type==="skin"&&F===e.id||e.type==="bobber"&&D===e.id?"EQUIPPED":"OWNED"}):s.jsxs("div",{style:{color:"gold",fontWeight:"bold",fontSize:"1.2rem"},children:[e.price," üí∞"]})})]},e.id)})})]}),C==="CATCH_SCREEN"&&x&&s.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:120},children:[s.jsx("h2",{style:{color:"var(--neon-gold)",fontSize:"3rem",margin:0,fontFamily:'"Orbitron", sans-serif',textShadow:"0 0 20px gold"},children:"CAUGHT!"}),s.jsx("div",{style:{fontSize:"6rem",margin:"20px",filter:"drop-shadow(0 0 30px rgba(255,255,255,0.3))"},children:x.type==="image"?s.jsx("img",{src:x.src,style:{width:"120px"}}):x.emoji}),s.jsx("h3",{style:{color:"white",fontSize:"2rem",margin:"5px",fontFamily:'"Orbitron", sans-serif'},children:x.name}),s.jsxs("div",{style:{color:re?"var(--neon-green)":"#ccc",fontSize:"1.2rem",fontFamily:"monospace"},children:[Ae,"kg ",re&&"üèÜ NEW PB!"]}),s.jsx("div",{style:{margin:"20px",textAlign:"center"},children:s.jsxs("div",{style:{color:"var(--neon-gold)",fontSize:"2.5rem",fontWeight:"bold",fontFamily:'"Orbitron", sans-serif',textShadow:"0 0 10px orange"},children:["+",Math.floor(x.score*(1+R*.1))," COINS"]})}),s.jsx(j,{onClick:fe,style:{marginTop:"20px",background:"var(--neon-blue)",color:"black",padding:"15px 40px",fontSize:"1.5rem",borderRadius:"50px",fontWeight:"bold",boxShadow:"0 0 20px var(--neon-blue)"},children:"üé£ CAST AGAIN"}),s.jsx(j,{onClick:()=>b("IDLE"),style:{marginTop:"15px",background:"transparent",border:"1px solid #555",color:"#888",padding:"10px 30px",borderRadius:"20px"},children:"DOCK"})]}),s.jsx("div",{style:{position:"absolute",top:"10%",left:"50%",transform:"translate(-50%, 0)",color:"rgba(255,255,255,0.8)",fontSize:"1.5rem",fontWeight:"bold",textShadow:"0 0 5px cyan",opacity:Y?1:0,transition:"opacity 0.5s",pointerEvents:"none",zIndex:10,textAlign:"center",fontFamily:'"Impact", sans-serif'},children:Y&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{fontSize:"1.2rem",color:"#aaf",letterSpacing:"5px"},children:"ENTERING ZONE"}),Y.toUpperCase()]})}),s.jsxs("div",{style:{position:"absolute",bottom:"20px",right:"20px",display:"flex",gap:"20px",justifyContent:"center",pointerEvents:"auto"},children:[s.jsx(j,{onClick:()=>b("FISHDEX"),style:{background:"#006994",width:"60px",height:"60px",borderRadius:"50%",border:"4px solid cyan",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"30px",boxShadow:"0 0 10px cyan"},children:"ü§ñ"}),s.jsx(j,{onClick:()=>b("SHOP"),style:{background:"orange",width:"60px",height:"60px",borderRadius:"50%",border:"4px solid gold",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"30px",boxShadow:"0 0 10px gold"},children:"üõçÔ∏è"})]})]})}),s.jsx("div",{style:{marginTop:"10px",textAlign:"center",color:"#ccc",fontSize:"0.8rem"},children:s.jsx("p",{children:"Tap & Hold to Cast/Reel ‚Ä¢ Drag to Move Hook"})}),s.jsx(ke,{to:"/arcade",style:{marginTop:"20px",color:"white",textDecoration:"underline",fontSize:"1rem"},children:"Exit Dock"})]})};export{$e as default};
