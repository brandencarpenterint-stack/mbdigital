import{b as q,a as L,g as ee,r as l,j as e,t as T,e as de,h as z,P as le,i as ce}from"./index-DKzGAutY.js";import{D as F,P as pe}from"./PocketRoom-HAKNrNXt.js";const xe=[{id:"void_essence",name:"Void Essence",price:500,icon:"âš«",desc:"Consume to become one with the void. (Ghost Mode)",effect:{effect:"ghost",duration:3e4}},{id:"glitch_pill",name:"Glitch Pill",price:100,icon:"ðŸ’Š",desc:"Randomizes all stats. Feeling lucky?",effect:{type:"gamble"}},{id:"cursed_idol",name:"Cursed Idol",price:666,icon:"ðŸ—¿",desc:"Sacrifice Happiness for Wealth.",effect:{type:"sacrifice",happy:-50,coins:1e3}},{id:"hack_tool",name:"Zero Day Exploit",price:1337,icon:"ðŸ’¾",desc:'Unlocks the secret "Hacker" skin.',effect:{unlockSkin:"pb_cyber"}},{id:"midnight_oil",name:"Midnight Oil",price:200,icon:"ðŸ›¢ï¸",desc:"Max Energy, but creates a mess.",effect:{energy:100,hygiene:-100}}],ge=({onClose:n})=>{const{coins:R,spendCoins:g,unlockHiddenItem:h}=q(),{feed:S,play:j,clean:w,triggerEffect:y,stats:C}=L(),{showToast:p}=ee(),[O,m]=l.useState("THE VOID");l.useEffect(()=>{const o=setInterval(()=>{const b="!@#$%^&*()_+-=[]{}|;:,.<>?";Math.random()>.8&&(m(c=>c.split("").map(r=>Math.random()>.5?b[Math.floor(Math.random()*b.length)]:r).join("")),setTimeout(()=>m("THE VOID"),100))},1e3);return()=>clearInterval(o)},[]);const I=o=>{g(o.price)?o.id==="void_essence"?(y("ghost",3e4),p("You feel... transparent.","magic")):o.id==="glitch_pill"?(y("jitter",5e3),y("zoom",5e3),Math.random()>.5?(j(50),p("EUPHORIA!","success")):(j(-20),p("Bad trip...","error"))):o.id==="hack_tool"?(h("pb_cyber"),p("SYSTEM BREACH: Cyber Skin Unlocked.","success"),T()):o.id==="cursed_idol"?(j(-50),p("The Idol stares into your soul...","error"),y("shine",2e4)):o.id==="midnight_oil"&&(y("jitter"),w(),p("Burning the midnight oil!","success")):p("Your funds are insufficient for this transaction.","error")};return e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.95)",zIndex:8e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)",fontFamily:"monospace"},children:e.jsxs("div",{style:{width:"90%",maxWidth:"400px",padding:"20px",border:"1px solid red",boxShadow:"0 0 50px rgba(255, 0, 0, 0.4)",background:"#000",position:"relative",color:"red"},children:[e.jsx("button",{onClick:n,style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",color:"red",fontSize:"1.5rem",cursor:"pointer"},children:"âœ•"}),e.jsx("h2",{style:{textAlign:"center",margin:"0 0 20px 0",textShadow:"2px 2px 0px blue",letterSpacing:"5px"},children:O}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px",color:"#666"},children:["CRYPTO: ",e.jsxs("span",{style:{color:"red",marginLeft:"10px"},children:[R," ðŸª™"]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:xe.map(o=>e.jsxs("div",{style:{border:"1px dashed #333",padding:"10px",display:"flex",alignItems:"center",gap:"15px",background:"#0a0a0a"},children:[e.jsx("div",{style:{fontSize:"2rem",filter:"grayscale(100%) contrast(150%)"},children:o.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:"#fff",fontWeight:"bold"},children:o.name}),e.jsx("div",{style:{color:"#444",fontSize:"0.7rem"},children:o.desc})]}),e.jsx("button",{onClick:()=>I(o),style:{background:"transparent",border:"1px solid red",color:"red",padding:"5px 10px",cursor:"pointer",fontFamily:"monospace"},children:o.price})]},o.id))}),e.jsx("div",{style:{marginTop:"20px",textAlign:"center",fontSize:"0.6rem",color:"#333"},children:"NO REFUNDS. NO WITNESSES."})]})})},fe=[{id:"sushi",name:"Premium Sushi",price:50,icon:"ðŸ£",effect:{hunger:40,happy:20,xp:50},desc:"Top tier food."},{id:"coffee",name:"Espresso",price:25,icon:"â˜•",effect:{energy:50,wake:!0,effect:"jitter"},desc:"Wakes Bro up instantly!"},{id:"chili",name:"Ghost Pepper",price:40,icon:"ðŸŒ¶ï¸",effect:{hunger:10,happy:-5,speed:!0,effect:"zoom"},desc:"ZOOMIES!!!"},{id:"radio",name:"Boombox",price:75,icon:"ðŸ“»",effect:{happy:40,effect:"dance"},desc:"Dance party time."},{id:"gold_apple",name:"Golden Apple",price:200,icon:"ðŸŽ",effect:{full:!0,effect:"shine"},desc:"Fully restores everything."},{id:"soap",name:"Mystic Soap",price:15,icon:"ðŸ§¼",effect:{clean:!0},desc:"Instantly destroys messes."},{id:"toy",name:"Bouncy Ball",price:100,icon:"ðŸŽ¾",effect:{happy:50,xp:100},desc:"HUGE happiness boost!"}],ue=({onClose:n})=>{const{coins:R,spendCoins:g,triggerConfetti:h,shopState:S,buyItem:j,equipItem:w}=q(),{feed:y,play:C,clean:p,sleep:O,triggerEffect:m,unlockDecor:I,equipDecor:o,stats:b}=L(),{showToast:c}=ee(),[r,E]=l.useState("supplies"),[B,M]=l.useState(!1),D=new Date().getHours(),W=D>=22||D<=4,A=t=>{if(!g){console.error("spendCoins function not found in context!");return}g(t.price)&&(t.effect.clean&&(p(),c("Squeaky Clean! âœ¨","success")),t.effect.wake&&(O(),m("jitter")),t.effect.full&&(y(100),C(100),p(),m("shine")),t.effect.effect&&m(t.effect.effect),t.effect.hunger&&y(t.effect.hunger),t.effect.happy&&C(t.effect.happy),c(`Bought ${t.name}`,"shop"))},f=t=>{const a=(b.unlockedDecor||[]).includes(t.id);if(t.type==="furniture"){if(a){c("Use 'Edit Room' button to place!","info");return}g(t.price)&&(I(t.id),c(`Bought ${t.name}!`,"success"),h&&h());return}if(b.decor[t.type]===t.id){o(t.type,null),c("Unequipped!","success");return}a?(o(t.type,t.id),c("Equipped!","success")):g(t.price)&&(I(t.id),o(t.type,t.id),c(`Bought ${t.name}!`,"success"),h&&h())},N=t=>{const a=S.unlocked.includes(t.id)||t.price===0;if(S.equipped.pocketbro===t.id){c("Already wearing this!","info");return}a?(w("pocketbro",t.id),c("Costume changed!","success"),h&&h()):j(t)&&w("pocketbro",t.id)};return e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.85)",zIndex:7e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:[e.jsxs("div",{className:"glass-panel",style:{width:"90%",maxWidth:"400px",padding:"20px",border:"1px solid var(--neon-blue)",boxShadow:"0 0 30px rgba(0, 243, 255, 0.3)",position:"relative",maxHeight:"90vh",overflowY:"auto"},children:[e.jsx("button",{onClick:n,style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:"âœ•"}),e.jsx("h2",{style:{textAlign:"center",color:"var(--neon-blue)",marginTop:0,marginBottom:"20px"},children:"POCKET SHOP"}),e.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"20px",borderBottom:"1px solid #444",paddingBottom:"10px"},children:[e.jsx("button",{onClick:()=>E("supplies"),style:{flex:1,padding:"8px",background:r==="supplies"?"var(--neon-blue)":"#333",color:r==="supplies"?"black":"#888",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer",fontSize:"0.8rem"},children:"SUPPLIES"}),e.jsx("button",{onClick:()=>E("decor"),style:{flex:1,padding:"8px",background:r==="decor"?"#d53f8c":"#333",color:r==="decor"?"white":"#888",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer",fontSize:"0.8rem"},children:"DECOR"}),e.jsx("button",{onClick:()=>E("skins"),style:{flex:1,padding:"8px",background:r==="skins"?"gold":"#333",color:r==="skins"?"black":"#888",border:"none",borderRadius:"5px",fontWeight:"bold",cursor:"pointer",fontSize:"0.8rem"},children:"SKINS"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",marginBottom:"15px",color:"gold",fontWeight:"bold"},children:["BALANCE: ",R," ðŸª™"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"10px"},children:[r==="supplies"&&fe.map(t=>e.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:t.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:"bold",color:"#fff"},children:t.name}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#aaa"},children:t.desc})]}),e.jsxs("button",{onClick:()=>A(t),style:{background:"#333",color:"gold",border:"1px solid gold",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold"},children:[t.price," ðŸª™"]})]},t.id)),r==="decor"&&F.map(t=>{const a=(b.unlockedDecor||[]).includes(t.id),s=b.decor&&b.decor[t.type]===t.id;return e.jsxs("div",{style:{background:s?"rgba(213, 63, 140, 0.2)":"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px",border:s?"1px solid #d53f8c":"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:t.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:"bold",color:s?"#d53f8c":"#fff"},children:[t.name," ",s&&"(ON)"]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#aaa"},children:t.desc})]}),e.jsx("button",{onClick:()=>f(t),style:{background:a&&s?"#d53f8c":"#333",color:a?s?"white":"#fff":"gold",border:a?s?"1px solid white":"1px solid #fff":"1px solid gold",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:t.type==="furniture"?a?"OWNED":`${t.price} ðŸª™`:a?s?"UNEQUIP":"EQUIP":`${t.price} ðŸª™`})]},t.id)}),r==="skins"&&de.filter(t=>t.category==="pocketbro").map(t=>{const a=S.unlocked.includes(t.id)||t.price===0,s=S.equipped.pocketbro===t.id;return e.jsxs("div",{style:{background:s?"rgba(255, 215, 0, 0.2)":"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px",border:s?"1px solid gold":"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:t.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontWeight:"bold",color:s?"gold":"#fff"},children:[t.name," ",s&&"(ON)"]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#aaa"},children:t.description})]}),e.jsx("button",{onClick:()=>N(t),style:{background:a&&s?"gold":"#333",color:a?s?"black":"#fff":"gold",border:a?s?"1px solid white":"1px solid #fff":"1px solid gold",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold",minWidth:"80px"},children:a?s?"WEARING":"WEAR":`${t.price} ðŸª™`})]},t.id)})]}),W&&e.jsx("div",{style:{marginTop:"20px",textAlign:"right"},children:e.jsx("button",{onClick:()=>M(!0),style:{background:"transparent",border:"none",color:"#333",cursor:"pointer",fontSize:"0.8rem",animation:"glitch 1s infinite"},children:"ðŸ‘ï¸"})})]}),B&&e.jsx(ge,{onClose:()=>M(!1)}),e.jsx("style",{children:`
                @keyframes glitch {
                    0% { opacity: 1; transform: translate(0); }
                    20% { opacity: 0.8; transform: translate(-2px, 2px); }
                    40% { opacity: 1; transform: translate(2px, -2px); }
                    60% { opacity: 0.5; transform: translate(0); }
                    80% { opacity: 1; transform: translate(-1px, 1px); color: red; }
                    100% { opacity: 1; transform: translate(0); }
                }
            `})]})},he=[{id:"feed",icon:"ðŸ—",label:"FEED"},{id:"clean",icon:"ðŸ§¹",label:"CLEAN"},{id:"play",icon:"ðŸŽ¾",label:"PLAY"},{id:"shop",icon:"ðŸ›ï¸",label:"SHOP"},{id:"sleep",icon:"ðŸ’¤",label:"SLEEP"}],me=()=>{const{stats:n,feed:R,play:g,sleep:h,clean:S,getMood:j,placeItem:w,removeItem:y,debugUpdate:C,equipDecor:p,explore:O,returnFromExplore:m}=L(),{shopState:I}=q()||{},o=I?.equipped?.pocketbro||null,b=()=>o==="pb_gold"?{filter:"drop-shadow(0 0 15px gold) sepia(100%) saturate(300%) hue-rotate(5deg)"}:o==="pb_cyber"?{filter:"drop-shadow(0 0 10px cyan) hue-rotate(180deg) contrast(150%)",fontFamily:"monospace"}:o==="pb_party"?{transform:"scale(1.1) rotate(5deg)"}:{filter:"drop-shadow(0 5px 0 rgba(0,0,0,0.2))"},[c,r]=l.useState("I'm here! ðŸ¥š"),[E,B]=l.useState(!1),[M,D]=l.useState(!1),[W,A]=l.useState(!1),[f,N]=l.useState(!1),[t,a]=l.useState(null),[s,$]=l.useState(!1),[U,te]=l.useState(n.stage);l.useEffect(()=>{n.stage!==U&&($(!0),r(`What ? Bro is evolving into ${n.stage} !`),setTimeout(()=>{te(n.stage),$(!1),r(`Bro evolved into ${n.stage} ! ðŸŽ‰`),T()},4e3))},[n.stage,U]);const X=z[n.stage]||z.EGG,V=Object.keys(z),ne=V.indexOf(n.stage),K=V[ne+1],G=K?z[K]:null;let H=100;if(G){const i=G.threshold-X.threshold,d=n.xp-X.threshold;H=Math.min(d/i*100,100)}const[v,Z]=l.useState(null),[ie,Y]=l.useState("CHOOSING"),[P,re]=l.useState(""),oe=i=>{if(Q(),i.id==="sleep"){h(),r(n.isSleeping?"Good morning! â˜€ï¸":"Goodnight! ðŸŒ™");return}if(n.isSleeping){r("Zzz... Wake me up!");return}i.id==="clean"?n.poopCount>0?(S(),r("Much better! âœ¨"),T()):r("It's already clean! âœ¨"):i.id==="shop"?D(!0):i.id==="feed"?(R(),r("Yum! ðŸ˜‹"),T()):i.id==="play"&&(Z("rps"),Y("CHOOSING"),r("Let's Play RPS! ðŸ‘Šâœ‹âœŒï¸"))},se=()=>{n.isSleeping||(Q(),g(2),r("He likes that! â¤ï¸"))},_=i=>{const d=["rock","paper","scissors"],u=d[Math.floor(Math.random()*d.length)];let x="draw";i==="rock"&&u==="scissors"||i==="paper"&&u==="rock"||i==="scissors"&&u==="paper"?x="win":i!==u&&(x="lose"),re({user:i,bot:u,outcome:x}),Y("RESULT"),x==="win"?(g(40),r("YOU WIN! ðŸŽ‰ +40 Happy"),T()):x==="draw"?(g(10),r("DRAW! ðŸ¤ +10 Happy")):(g(5),r("I WIN! ðŸ˜œ +5 Happy"))},Q=()=>{B(!0),setTimeout(()=>B(!1),500)},ae=()=>s?"":n.tempStatus==="jitter"?"jitter":n.tempStatus==="dance"?"dance":n.tempStatus==="zoom"?"zoom":n.isSleeping?"breathe":E?"bounce":"idle",k=F.find(i=>i.id===n.decor?.background),J=F.filter(i=>(n.unlockedDecor||[]).includes(i.id));return e.jsxs("div",{className:"page-enter",style:{background:n.tempStatus==="shine"?"radial-gradient(circle, gold, #222)":"transparent",transition:"background 1s",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"100px",fontFamily:'"Press Start 2P", monospace'},children:[e.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{background:"var(--neon-blue)",color:"black",padding:"5px 20px",borderRadius:"20px",marginBottom:"20px",fontSize:"0.8rem",fontWeight:"bold",boxShadow:"0 0 20px var(--neon-blue)"},children:"POCKET BRO v3.0"}),e.jsxs("div",{style:{width:"320px",background:"linear-gradient(145deg, #2a2a2a, #1a1a1a)",borderRadius:"40px",padding:"25px",boxShadow:"0 50px 100px rgba(0,0,0,0.8), inset 0 0 20px rgba(255,255,255,0.05)",border:"1px solid #333",position:"relative"},children:[e.jsxs("div",{className:k?k.className:"",style:{height:"320px",background:k?k.css.background:"#8b9bb4",backgroundImage:k?k.css.backgroundImage:"linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06))",backgroundSize:k?void 0:"100% 2px, 3px 100%",borderRadius:"15px",border:"6px solid #111",boxShadow:"inset 0 0 20px rgba(0,0,0,0.5)",padding:"20px",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},children:[!f&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",color:"#333",marginBottom:"10px"},children:[e.jsxs("span",{children:["STAGE: ",n.stage]}),e.jsxs("span",{children:["XP: ",Math.floor(n.xp)]})]}),!f&&e.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[e.jsx("div",{style:{flex:1,height:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"4px"},children:e.jsx("div",{style:{width:`${n.happy}% `,height:"100%",background:"#ff0055",borderRadius:"4px"}})}),e.jsx("div",{style:{flex:1,height:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"4px"},children:e.jsx("div",{style:{width:`${n.hunger}% `,height:"100%",background:"#ffaa00",borderRadius:"4px"}})})]}),e.jsxs("div",{style:{flex:1,position:"relative"},children:[n.adventure?.active?e.jsxs("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.8)",zIndex:60,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"lime",fontFamily:"monospace"},children:[e.jsx("div",{style:{fontSize:"3rem",animation:"spin 2s infinite linear"},children:"ðŸŒ"}),e.jsx("div",{style:{marginTop:"20px",letterSpacing:"2px"},children:"SCAVENGING..."}),e.jsx("div",{style:{marginTop:"10px",width:"80%",height:"4px",background:"#333",overflow:"hidden",borderRadius:"2px"},children:e.jsx("div",{style:{width:"50%",height:"100%",background:"lime",animation:"scan 2s infinite ease-in-out"}})}),e.jsx("style",{children:`
                                        @keyframes spin { 100% { transform: rotate(360deg); } }
                                        @keyframes scan { 0% { transform: translateX(-100%); } 100% { transform: translateX(200%); } }
                                    `})]}):e.jsx(e.Fragment,{children:e.jsx(pe,{isEditing:f,selectedItem:t,onPlace:(i,d,u)=>w(i,d,u)})}),!n.adventure?.active&&v==="rps"?e.jsx("div",{style:{position:"absolute",inset:0,zIndex:50,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{textAlign:"center",width:"100%"},children:ie==="CHOOSING"?e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[e.jsx("button",{onClick:()=>_("rock"),style:{fontSize:"2rem",padding:"10px",background:"#ddd",border:"2px solid #333",cursor:"pointer"},children:"ðŸ‘Š"}),e.jsx("button",{onClick:()=>_("paper"),style:{fontSize:"2rem",padding:"10px",background:"#ddd",border:"2px solid #333",cursor:"pointer"},children:"âœ‹"}),e.jsx("button",{onClick:()=>_("scissors"),style:{fontSize:"2rem",padding:"10px",background:"#ddd",border:"2px solid #333",cursor:"pointer"},children:"âœŒï¸"})]}):e.jsxs("div",{style:{fontSize:"1.5rem",color:"white"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",fontSize:"2rem"},children:[e.jsxs("div",{children:["You",e.jsx("br",{}),P.user==="rock"?"ðŸ‘Š":P.user==="paper"?"âœ‹":"âœŒï¸"]}),e.jsx("div",{style:{alignSelf:"center"},children:"VS"}),e.jsxs("div",{children:["Bro",e.jsx("br",{}),P.bot==="rock"?"ðŸ‘Š":P.bot==="paper"?"âœ‹":"âœŒï¸"]})]}),e.jsxs("div",{style:{marginTop:"10px"},children:[e.jsx("button",{onClick:()=>Y("CHOOSING"),style:{marginRight:"10px",cursor:"pointer",padding:"5px 10px"},children:"Rematch â†º"}),e.jsx("button",{onClick:()=>Z(null),style:{cursor:"pointer",padding:"5px 10px"},children:"Done âœ…"})]})]})})}):!n.adventure?.active&&e.jsxs("div",{onClick:f?null:se,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100px",height:"100px",display:"flex",justifyContent:"center",alignItems:"center",cursor:f?"default":"pointer",zIndex:20},children:[e.jsx("div",{style:{transform:E?"scale(1.1)":"scale(1)",transition:"transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1)",animation:`${ae()} ${n.tempStatus==="zoom"?"0.5s":"2s"} infinite`,filter:s?"brightness(100) drop-shadow(0 0 20px white)":n.tempStatus==="shine"?"drop-shadow(0 0 20px gold)":n.tempStatus==="zoom"?"hue-rotate(90deg)":"none",...b()},children:e.jsx(le,{type:n.type||"SOOT",mood:n.happy<40||n.poopCount>0?"sad":"happy",isSleeping:n.isSleeping,stage:s?U:n.stage,skin:o})}),n.poopCount>0&&e.jsx("div",{style:{position:"absolute",bottom:0,right:0,fontSize:"2rem",animation:"shake 2s infinite",filter:"drop-shadow(0 0 5px brown)"},children:"ðŸ’©"}),n.isSleeping&&e.jsx("div",{style:{position:"absolute",top:0,right:0,fontSize:"1.5rem",animation:"float 2s infinite"},children:"ðŸ’¤"})]})]}),!f&&e.jsxs("div",{style:{marginTop:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.6rem",color:"#555",marginBottom:"2px"},children:[e.jsx("span",{children:"EVOLUTION"}),e.jsx("span",{children:G?`${Math.floor(H)}% `:"MAX"})]}),e.jsx("div",{style:{width:"100%",height:"6px",background:"rgba(0,0,0,0.1)",borderRadius:"3px"},children:e.jsx("div",{style:{width:`${H}% `,height:"100%",background:"linear-gradient(90deg, #00C6FF, #0072FF)",borderRadius:"3px",transition:"width 0.5s"}})})]}),!f&&e.jsx("div",{style:{textAlign:"center",marginTop:"10px",minHeight:"1.2em",color:"#333",fontSize:"0.7rem"},children:c}),f&&e.jsx("div",{style:{textAlign:"center",marginTop:"10px",color:"#555",fontSize:"0.6rem"},children:"Click grid to place items. Center is reserved."})]}),f?e.jsxs("div",{style:{marginTop:"20px",background:"#333",padding:"10px",borderRadius:"15px"},children:[e.jsxs("div",{style:{display:"flex",gap:"10px",overflowX:"auto",paddingBottom:"10px",scrollbarWidth:"thin"},children:[J.length===0&&e.jsx("div",{style:{color:"#888",fontSize:"0.7rem",padding:"10px"},children:"No furniture! Visit Shop."}),J.map(i=>{const d=n.decor?.background===i.id,u=t===i.id;return e.jsxs("button",{onClick:()=>{i.type==="background"?p("background",i.id):a(i.id)},style:{minWidth:"50px",height:"50px",border:u||d?"2px solid gold":"1px solid #555",background:d?"var(--neon-blue)":"#222",borderRadius:"5px",fontSize:"1.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[i.icon,i.type==="background"&&e.jsx("span",{style:{position:"absolute",bottom:2,right:2,fontSize:"0.5rem"},children:"BG"})]},i.id)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px",borderTop:"1px solid #444",paddingTop:"10px"},children:[e.jsx("button",{onClick:()=>a(null),style:{background:"#444",border:"none",color:"white",padding:"5px 10px",borderRadius:"5px",fontSize:"0.7rem"},children:"Eraser ðŸ§¹"}),e.jsx("button",{onClick:()=>N(!1),style:{background:"var(--neon-blue)",border:"none",color:"black",padding:"5px 15px",borderRadius:"5px",fontWeight:"bold"},children:"DONE"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"30px"},children:he.map(i=>e.jsx("button",{onClick:()=>oe(i),disabled:n.adventure?.active||v||n.isSleeping&&i.id!=="sleep",style:{width:"60px",height:"60px",borderRadius:"50%",border:"none",background:n.adventure?.active||v||n.isSleeping&&i.id!=="sleep"?"#333":"#e0e0e0",boxShadow:n.adventure?.active||v||n.isSleeping&&i.id!=="sleep"?"none":"0 6px 0 #999",fontSize:"1.8rem",cursor:n.adventure?.active||v||n.isSleeping&&i.id!=="sleep"?"not-allowed":"pointer",opacity:n.adventure?.active||v||n.isSleeping&&i.id!=="sleep"?.5:1,transform:"translateY(0)",transition:"transform 0.1s, box-shadow 0.1s"},onMouseDown:d=>{n.adventure?.active||v||n.isSleeping&&i.id!=="sleep"||(d.currentTarget.style.transform="translateY(6px)",d.currentTarget.style.boxShadow="none")},onMouseUp:d=>{n.adventure?.active||v||n.isSleeping&&i.id!=="sleep"||(d.currentTarget.style.transform="translateY(0)",d.currentTarget.style.boxShadow="0 6px 0 #999")},children:i.icon},i.id))}),e.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:n.adventure?.active?e.jsxs("div",{style:{background:"rgba(0,0,0,0.5)",padding:"10px",borderRadius:"10px",border:"1px solid #555"},children:[e.jsxs("div",{children:["ðŸš€ ",n.adventure.name||"EXPLORING","..."]}),e.jsxs("div",{style:{fontSize:"0.8rem",color:"#aaa"},children:["Back in ",Math.max(0,(n.adventure.finishTime-Date.now())/6e4).toFixed(0),"m"]}),Date.now()>n.adventure.finishTime&&e.jsx("button",{onClick:()=>{const i=m();i&&(r(`Found ${i.coins} Coins & ${i.items.length} Items!`),T())},style:{background:"lime",color:"black",border:"none",padding:"5px 15px",borderRadius:"5px",marginTop:"5px",fontWeight:"bold"},children:"CLAIM REWARDS ðŸŽ"})]}):W?e.jsxs("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"#222",borderTop:"2px solid #555",padding:"15px",borderRadius:"20px 20px 0 0",zIndex:80,maxHeight:"250px",overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",alignItems:"center"},children:[e.jsx("span",{style:{color:"white",fontWeight:"bold"},children:"SELECT MISSION"}),e.jsx("button",{onClick:()=>A(!1),style:{background:"transparent",border:"none",color:"red",cursor:"pointer"},children:"âœ–"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ce.map(i=>{const d=Object.keys(z).indexOf(n.stage),u=Object.keys(z).indexOf(i.minStage),x=d<u;return e.jsxs("button",{disabled:x,onClick:()=>{O(i.id),A(!1),r(`Off to ${i.name}!`)},style:{background:x?"#333":"#444",border:"1px solid #555",padding:"10px",borderRadius:"8px",textAlign:"left",cursor:x?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"10px",opacity:x?.6:1},children:[e.jsx("div",{style:{fontSize:"1.5rem"},children:i.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:x?"#888":"white",fontWeight:"bold",fontSize:"0.8rem"},children:i.name}),e.jsxs("div",{style:{color:"#aaa",fontSize:"0.6rem"},children:[i.durationMinutes,"m â€¢ ",i.description]})]}),x&&e.jsxs("div",{style:{fontSize:"0.7rem",color:"red"},children:["ðŸ”’ ",i.minStage,"+"]})]},i.id)})})]}):e.jsx("button",{onClick:()=>A(!0),style:{background:"var(--neon-pink)",border:"none",color:"white",padding:"10px 20px",borderRadius:"25px",fontSize:"0.9rem",fontWeight:"bold",boxShadow:"0 0 10px var(--neon-pink)",cursor:"pointer"},children:"ðŸŒ ADVENTURE"})}),e.jsx("div",{style:{textAlign:"center",marginTop:"15px"},children:e.jsx("button",{onClick:()=>N(!0),disabled:n.adventure?.active,style:{background:"transparent",border:"1px solid #555",color:"#777",fontSize:"0.7rem",padding:"5px 10px",borderRadius:"20px",cursor:n.adventure?.active?"not-allowed":"pointer",opacity:n.adventure?.active?.3:1},children:"ðŸ›‹ï¸ EDIT ROOM"})})]})]})]}),M&&e.jsx(ue,{onClose:()=>D(!1)}),s&&e.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%)",zIndex:100,pointerEvents:"none",animation:"flash 4s ease-in-out"}}),e.jsx("style",{children:`
@keyframes flash {
    0 % { opacity: 0; }
    20 % { opacity: 1; }
    50 % { opacity: 0.5; }
    80 % { opacity: 1; filter: brightness(2); }
    100 % { opacity: 0; }
}
@keyframes jitter {
    0 % { transform: translate(0, 0); }
    25 % { transform: translate(2px, 2px); }
    50 % { transform: translate(-2px, -2px); }
    75 % { transform: translate(2px, -2px); }
    100 % { transform: translate(0, 0); }
}
@keyframes dance {
    0 %, 100 % { transform: translateY(0) rotate(0deg); }
    25 % { transform: translateY(-10px) rotate(- 10deg); }
    75 % { transform: translateY(-5px) rotate(10deg); }
}
@keyframes zoom {
    0 % { transform: translateX(-100px); }
    50 % { transform: translateX(100px); }
    100 % { transform: translateX(-100px); }
}
@keyframes idle {
    0 %, 100 % { transform: translateY(0); }
    50 % { transform: translateY(-5px); }
}
@keyframes breathe {
    0 %, 100 % { transform: scale(1); opacity: 0.8; }
    50 % { transform: scale(1.05); opacity: 1; }
}
@keyframes float {
    0 %, 100 % { transform: translateY(0); }
    50 % { transform: translateY(-10px); }
}

/* --- ANIMATED BACKGROUNDS --- */
.bg-space::before {
    content: ''; position: absolute; inset: 0;
    background-image: 
        radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
        radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
        radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
    background-size: 550px 550px, 350px 350px, 250px 250px;
    background-position: 0 0, 40px 60px, 130px 270px;
    animation: stars 60s linear infinite;
    z-index: 1; opacity: 0.8;
}
.bg-space::after {
    content: ''; position: absolute; top: -50px; left: -50px;
    width: 60px; height: 2px;
    background: linear-gradient(90deg, transparent, white);
    box-shadow: 0 0 10px white;
    transform-origin: right;
    animation: shootingStar 8s linear infinite;
    z-index: 2;
}

.bg-city {
    background: linear-gradient(180deg, #10002b 0%, #240046 60%, #ff0 60.5%, #3c096c 61%, #5a189a 100%);
    position: relative;
    overflow: hidden;
}
.bg-city::before {
    content: ''; position: absolute; inset: 0;
    background: 
        linear-gradient(90deg, rgba(255,0,255,0.3) 1px, transparent 1px),
        linear-gradient(rgba(255,0,255,0.3) 1px, transparent 1px);
    background-size: 40px 40px;
    transform: perspective(300px) rotateX(60deg) translateY(100px) translateZ(-100px);
    animation: gridMove 2s linear infinite;
    z-index: 1;
}
.bg-city::after {
    content: ''; position: absolute; top: 20px; right: 40px;
    width: 60px; height: 60px; border-radius: 50%;
    background: linear-gradient(to bottom, #f0f, #00f);
    box-shadow: 0 0 20px #f0f;
    z-index: 1;
}

.bg-abyss {
    background: linear-gradient(#000, #001e36);
}
.bg-abyss::before {
    content: 'ðŸ«§'; position: absolute; bottom: -20px; left: 20%;
    animation: bubbleUp 4s infinite; font-size: 20px; z-index: 1;
}
.bg-abyss::after {
    content: 'ðŸ«§'; position: absolute; bottom: -20px; right: 30%;
    animation: bubbleUp 6s infinite 1s; font-size: 15px; z-index: 1;
}

.bg-magma {
    background: #300;
}
.bg-magma::before {
    content: ''; position: absolute; inset: 0;
    background: radial-gradient(circle, transparent 20%, #000 120%);
    animation: pulseHeat 2s infinite alternate;
    z-index: 1;
}

@keyframes stars { from { transform: translateY(0); } to { transform: translateY(550px); } }
@keyframes shootingStar { 0% { transform: translate(0,0) rotate(45deg); opacity: 1; } 20% { transform: translate(400px, 400px) rotate(45deg); opacity: 0; } 100% { opacity: 0; } }
@keyframes gridMove { from { background-position: 0 0; } to { background-position: 0 40px; } }
@keyframes bubbleUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-400px); opacity: 0; } }
@keyframes pulseHeat { from { opacity: 0.2; } to { opacity: 0.6; background-color: #f00; } }

`}),e.jsx("div",{style:{marginTop:"50px",opacity:.1,hover:{opacity:1}},children:e.jsxs("details",{children:[e.jsx("summary",{children:"ðŸ§¬ DEV LABS"}),e.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",padding:"10px",borderRadius:"10px",fontSize:"0.7rem"},children:[e.jsx("p",{children:"Override Species:"}),e.jsx("div",{style:{display:"flex",gap:"5px"},children:["SOOT","SLIME","ROBOT","GHOST"].map(i=>e.jsx("button",{onClick:()=>C({type:i}),style:{padding:"5px",cursor:"pointer"},children:i},i))}),e.jsx("p",{children:"Override Stage:"}),e.jsx("div",{style:{display:"flex",gap:"5px"},children:["EGG","BABY","CHILD","TEEN","ADULT"].map(i=>e.jsx("button",{onClick:()=>C({stage:i}),style:{padding:"5px",cursor:"pointer"},children:i},i))}),e.jsx("p",{children:"Note: Renders immediately, logic may overwrite on next tick if XP not matching."})]})]})})]})};export{me as default};
